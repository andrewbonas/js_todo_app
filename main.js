(()=>{"use strict";let e=[];const t=document.getElementById("side-bar"),n=document.getElementById("main");function o(){let e=document.getElementById("side-bar").getElementsByClassName("folder");for(var t=0;t<e.length;t++)e[t].addEventListener("click",(function(){var e=document.getElementsByClassName("active");e.length>0&&(e[0].className=e[0].className.replace(" active","")),this.className+=" active",n.querySelectorAll(".card").forEach((e=>e.remove())),c()}))}function l(n){let l=document.createElement("a");l.innerHTML=`${n}`,l.classList.add("folder"),l.dataset.title=n,function(n,o){let l=document.createElement("span");l.classList.add("project-del-btn"),l.textContent="x",o.appendChild(l),l.addEventListener("click",(o=>{confirm("Are you sure you want to delete this folder? All associated TODO's will be removed.")&&function(n,o){for(let t=0;t<e.length;t++)e[t].folder==o&&e.splice(t,1);let l=n.target.parentElement;t.removeChild(l),r()}(o,n)}))}(n,l),t.prepend(l),o(),r()}function d(e,t,n,o,l){this.folder=e,this.title=t,this.date=n,this.description=o,this.complete=l}function c(){if(null!=document.querySelector(".active")){let t=document.querySelector(".active").dataset.title;e.length>0&&e.forEach((e=>{if(t===e[Object.keys(e)[0]]){let t=document.createElement("div");t.classList.add("card"),t.innerHTML=`\n      <div class= "card-header">\n      <strong>Title:</strong><br>${e.title}\n      </div>\n      <div class="card-body">\n      <strong>Description:</strong><br>${e.description}\n      </div>\n      <div class="card-footer">\n    <strong>Date:</strong> ${e.date}\n          </div>`,function(e,t){let n=document.createElement("span");n.classList.add("task-complete-btn"),n.textContent="e",e.appendChild(n),n.addEventListener("click",(n=>{!1===t.complete?(t.complete=!0,e.style.textDecoration="line-through",r()):(t.complete=!1,e.style.textDecoration="none",r())}))}(t,e),a(t),n.prepend(t)}}))}}function a(t){let o=document.createElement("span");o.classList.add("task-del-btn"),o.textContent="x",t.appendChild(o),o.addEventListener("click",(t=>{e.splice(e.indexOf(d),1),function(e){let t=e.target.parentElement;n.removeChild(t),r()}(t)}))}function r(){localStorage.setItem("taskList",JSON.stringify(e))}const i=function(){const t=document.getElementById("content"),n=document.getElementById("main"),d=function(){const t=document.getElementById("side-bar"),n=document.createElement("a"),o=(document.createElement("a"),document.createTextNode("example"));return n.appendChild(o),n.setAttribute("data-title","example"),n.classList.add("folder"),n.classList.add("active"),t.appendChild(n),function(e){const t=document.createElement("button");t.classList.add("folder-add"),t.innerHTML="<span>New Folder</span>",t.addEventListener("click",openFolderForm),e.appendChild(t)}(t),console.log(e),e.forEach((function(e){console.log(e);let t=e[Object.keys(e)[0]];"example"!=t&&l(t)})),t}();t.appendChild(d);const c=function(){const e=document.createElement("div");return e.setAttribute("id","form-container"),e.innerHTML='\n  <form id="form">\n  <h1 class=\'d-flex justify-content-center pt-2\'>TODO</h1>\n\n    <div class="form-group p-2">\n      <label for="title">Title:</label>\n      <input id="title" type="text" class="form-control" placeholder="name" name="title" value="" required/>\n    </div>\n\n    <div class="form-group p-2">\n      <label for="date-input">Date:</label>\n      <input id="date" type="date" class="form-control" placeholder="01-01-2020" name="date" value="" required/>\n    </div>\n\n    <div class="form-group p-2">\n      <label for="textarea">Description:</label>\n      <textarea id="description" class="form-control" placeholder="Details" name="date" value=""></textarea>\n    </div>\n\n    <div class="button w-100 d-flex justify-content-center pb-2">\n     <button class="add-btn btn btn-primary m-2" type="button" form="form" onclick="submitForm()">Add</button>\n     <button class="cancel-btn btn btn-secondary m-2" type="button" onclick="closeForm()">Close</button>\n   </div>\n  </form>\n  ',e}();t.appendChild(c);const a=function(){const e=document.createElement("div");return e.setAttribute("id","folder-form-container"),e.innerHTML='\n  <form id="folder-form">\n  <h1 class=\'d-flex justify-content-center pt-2\'>New Folder</h1>\n\n    <div class="form-group p-2">\n      <label for="new-folder">Name:</label>\n      <input id="new-folder" type="text" class="form-control" placeholder="name" name="new-folder" value="" required/>\n    </div>\n    <div class="button w-100 d-flex justify-content-center pb-2">\n     <button class="add-btn btn btn-primary m-2" type="button" form="form" onclick="newFolder()">Add</button>\n     <button class="cancel-btn btn btn-secondary m-2" type="button" onclick="closeForm()">Close</button>\n   </div>\n  </form>\n  ',e}();t.appendChild(a);const r=function(){const e=document.createElement("div");return e.classList.add("btn-div"),e.innerHTML='<button class="new-task-btn" onclick="openForm()"><i class="fas fa-plus fa-lg"></i></button>',e}();n.appendChild(r),o()},s=document.getElementById("main");window.openForm=function(){document.getElementById("form-container").style.display="block"},window.openFolderForm=function(){document.getElementById("folder-form-container").style.display="block"},window.closeForm=function(){document.getElementById("form-container").style.display="none",document.getElementById("folder-form-container").style.display="none"},window.submitForm=function(){let t=document.getElementById("title").value,n=document.getElementById("date").value,o=document.getElementById("description").value,l=document.querySelector(".active").dataset.title;""==t||""==n||""==o?alert("Please fill TODO correctly."):(function(t,n,o,l,c){let a=new d(t,n,o,l,!1);e.push(a),r()}(l,t,n,o),s.querySelectorAll(".card").forEach((e=>e.remove())),c(),closeForm(),form.reset())},window.newFolder=function(){let e=document.getElementById("new-folder").value,t=document.getElementById("folder-form");""==e?alert("Please add a folder name."):1==function(e){let t,n=document.getElementById("side-bar").querySelectorAll(".folder");for(t=0;t<n.length;t++)if(n[t].dataset.title===e)return!0}(e)?(console.log("hioh"),alert("Folder names must be unique.")):(l(e),closeForm(),t.reset())},function(){if(localStorage.taskList){let t=localStorage.getItem("taskList");t=JSON.parse(t),e=t,i(),c()}else i()}()})();